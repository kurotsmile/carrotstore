"use strict";window.jscolor||(window.jscolor=function(){var b={register:function(){b.attachDOMReadyEvent(b.init),b.attachEvent(document,"mousedown",b.onDocumentMouseDown),b.attachEvent(document,"touchstart",b.onDocumentTouchStart),b.attachEvent(window,"resize",b.onWindowResize)},init:function(){b.jscolor.lookupClass&&b.jscolor.installByClassName(b.jscolor.lookupClass)},tryInstallOnElements:function(f,r){var t=new RegExp("(^|\\s)("+r+")(\\s*(\\{[^}]*\\})|\\s|$)","i");for(var o=0;o<f.length;o+=1){if(f[o].type!==undefined&&f[o].type.toLowerCase()=="color"&&b.isColorAttrSupported){continue}var a;if(!f[o].jscolor&&f[o].className&&(a=f[o].className.match(t))){var s=f[o],i=null,l=b.getDataAttr(s,"jscolor");l!==null?i=l:a[4]&&(i=a[4]);var n={};if(i){try{n=(new Function("return ("+i+")"))()}catch(q){b.warn("Error parsing jscolor options: "+q+":\n"+i)}}s.jscolor=new b.jscolor(s,n)}}},isColorAttrSupported:function(){var a=document.createElement("input");if(a.setAttribute){a.setAttribute("type","color");if(a.type.toLowerCase()=="color"){return !0}}return !1}(),isCanvasSupported:function(){var a=document.createElement("canvas");return !!a.getContext&&!!a.getContext("2d")}(),fetchElement:function(a){return typeof a=="string"?document.getElementById(a):a},isElementType:function(d,a){return d.nodeName.toLowerCase()===a.toLowerCase()},getDataAttr:function(g,a){var e="data-"+a,h=g.getAttribute(e);return h!==null?h:null},attachEvent:function(f,a,e){f.addEventListener?f.addEventListener(a,e,!1):f.attachEvent&&f.attachEvent("on"+a,e)},detachEvent:function(f,a,e){f.removeEventListener?f.removeEventListener(a,e,!1):f.detachEvent&&f.detachEvent("on"+a,e)},_attachedGroupEvents:{},attachGroupEvent:function(h,f,g,a){b._attachedGroupEvents.hasOwnProperty(h)||(b._attachedGroupEvents[h]=[]),b._attachedGroupEvents[h].push([f,g,a]),b.attachEvent(f,g,a)},detachGroupEvents:function(a){if(b._attachedGroupEvents.hasOwnProperty(a)){for(var e=0;e<b._attachedGroupEvents[a].length;e+=1){var f=b._attachedGroupEvents[a][e];b.detachEvent(f[0],f[1],f[2])}delete b._attachedGroupEvents[a]}},attachDOMReadyEvent:function(g){var a=!1,e=function(){a||(a=!0,g())};if(document.readyState==="complete"){setTimeout(e,1);return}if(document.addEventListener){document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&(document.detachEvent("onreadystatechange",arguments.callee),e())}),window.attachEvent("onload",e);if(document.documentElement.doScroll&&window==window.top){var h=function(){if(!document.body){return}try{document.documentElement.doScroll("left"),e()}catch(c){setTimeout(h,1)}};h()}}}},warn:function(a){window.console&&window.console.warn&&window.console.warn(a)},preventDefault:function(a){a.preventDefault&&a.preventDefault(),a.returnValue=!1},captureTarget:function(a){a.setCapture&&(b._capturedTarget=a,b._capturedTarget.setCapture())},releaseTarget:function(){b._capturedTarget&&(b._capturedTarget.releaseCapture(),b._capturedTarget=null)},fireEvent:function(f,a){if(!f){return}if(document.createEvent){var e=document.createEvent("HTMLEvents");e.initEvent(a,!0,!0),f.dispatchEvent(e)}else{if(document.createEventObject){var e=document.createEventObject();f.fireEvent("on"+a,e)}else{f["on"+a]&&f["on"+a]()}}},classNameToList:function(a){return a.replace(/^\s+|\s+$/g,"").split(/\s+/)},hasClass:function(d,a){return a?-1!=(" "+d.className.replace(/\s+/g," ")+" ").indexOf(" "+a+" "):!1},setClass:function(h,f){var g=b.classNameToList(f);for(var a=0;a<g.length;a+=1){b.hasClass(h,g[a])||(h.className+=(h.className?" ":"")+g[a])}},unsetClass:function(j,g){var h=b.classNameToList(g);for(var a=0;a<h.length;a+=1){var i=new RegExp("^\\s*"+h[a]+"\\s*|\\s*"+h[a]+"\\s*$|\\s+"+h[a]+"(\\s+)","g");j.className=j.className.replace(i,"$1")}},getStyle:function(a){return window.getComputedStyle?window.getComputedStyle(a):a.currentStyle},setStyle:function(){var f=document.createElement("div"),a=function(d){for(var c=0;c<d.length;c+=1){if(d[c] in f.style){return d[c]}}},e={borderRadius:a(["borderRadius","MozBorderRadius","webkitBorderRadius"]),boxShadow:a(["boxShadow","MozBoxShadow","webkitBoxShadow"])};return function(c,i,d){switch(i.toLowerCase()){case"opacity":var k=Math.round(parseFloat(d)*100);c.style.opacity=d,c.style.filter="alpha(opacity="+k+")";break;default:c.style[e[i]]=d}}}(),setBorderRadius:function(a,d){b.setStyle(a,"borderRadius",d||"0")},setBoxShadow:function(a,d){b.setStyle(a,"boxShadow",d||"none")},getElementPos:function(l,h){var j=0,a=0,k=l.getBoundingClientRect();j=k.left,a=k.top;if(!h){var i=b.getViewPos();j+=i[0],a+=i[1]}return[j,a]},getElementSize:function(a){return[a.offsetWidth,a.offsetHeight]},getAbsPointerPos:function(f){f||(f=window.event);var a=0,e=0;return typeof f.changedTouches!="undefined"&&f.changedTouches.length?(a=f.changedTouches[0].clientX,e=f.changedTouches[0].clientY):typeof f.clientX=="number"&&(a=f.clientX,e=f.clientY),{x:a,y:e}},getRelPointerPos:function(k){k||(k=window.event);var n=k.target||k.srcElement,e=n.getBoundingClientRect(),l=0,a=0,m=0,i=0;return typeof k.changedTouches!="undefined"&&k.changedTouches.length?(m=k.changedTouches[0].clientX,i=k.changedTouches[0].clientY):typeof k.clientX=="number"&&(m=k.clientX,i=k.clientY),l=m-e.left,a=i-e.top,{x:l,y:a}},getViewPos:function(){var a=document.documentElement;return[(window.pageXOffset||a.scrollLeft)-(a.clientLeft||0),(window.pageYOffset||a.scrollTop)-(a.clientTop||0)]},getViewSize:function(){var a=document.documentElement;return[window.innerWidth||a.clientWidth,window.innerHeight||a.clientHeight]},redrawPosition:function(){if(b.picker&&b.picker.owner){var d=b.picker.owner,n,t;d.fixed?(n=b.getElementPos(d.targetElement,!0),t=[0,0]):(n=b.getElementPos(d.targetElement),t=b.getViewPos());var i=b.getElementSize(d.targetElement),a=b.getViewSize(),o=b.getPickerOuterDims(d),f,r,v;switch(d.position.toLowerCase()){case"left":f=1,r=0,v=-1;break;case"right":f=1,r=0,v=1;break;case"top":f=0,r=1,v=-1;break;default:f=0,r=1,v=1}var l=(i[r]+o[r])/2;if(!d.smartPosition){var s=[n[f],n[r]+i[r]-l+l*v]}else{var s=[-t[f]+n[f]+o[f]>a[f]?-t[f]+n[f]+i[f]/2>a[f]/2&&n[f]+i[f]-o[f]>=0?n[f]+i[f]-o[f]:n[f]:n[f],-t[r]+n[r]+i[r]+o[r]-l+l*v>a[r]?-t[r]+n[r]+i[r]/2>a[r]/2&&n[r]+i[r]-l-l*v>=0?n[r]+i[r]-l-l*v:n[r]+i[r]-l+l*v:n[r]+i[r]-l+l*v>=0?n[r]+i[r]-l+l*v:n[r]+i[r]-l-l*v]}var c=s[f],p=s[r],u=d.fixed?"fixed":"absolute",h=(s[0]+o[0]>n[0]||s[0]<n[0]+i[0])&&s[1]+o[1]<n[1]+i[1];b._drawPosition(d,c,p,u,h)}},_drawPosition:function(l,h,j,a,k){var i=k?0:l.shadowBlur;b.picker.wrap.style.position=a,b.picker.wrap.style.left=h+"px",b.picker.wrap.style.top=j+"px",b.setBoxShadow(b.picker.boxS,l.shadow?new b.BoxShadow(0,i,l.shadowBlur,0,l.shadowColor):null)},getPickerDims:function(a){var e=!!b.getSliderComponent(a),f=[2*a.insetWidth+2*a.padding+a.width+(e?2*a.insetWidth+b.getPadToSliderPadding(a)+a.sliderSize:0),2*a.insetWidth+2*a.padding+a.height+(a.closable?2*a.insetWidth+a.padding+a.buttonHeight:0)];return f},getPickerOuterDims:function(a){var d=b.getPickerDims(a);return[d[0]+2*a.borderWidth,d[1]+2*a.borderWidth]},getPadToSliderPadding:function(a){return Math.max(a.padding,1.5*(2*a.pointerBorderWidth+a.pointerThickness))},getPadYComponent:function(a){switch(a.mode.charAt(1).toLowerCase()){case"v":return"v"}return"s"},getSliderComponent:function(a){if(a.mode.length>2){switch(a.mode.charAt(2).toLowerCase()){case"s":return"s";case"v":return"v"}}return null},onDocumentMouseDown:function(a){a||(a=window.event);var d=a.target||a.srcElement;d._jscLinkedInstance?d._jscLinkedInstance.showOnClick&&d._jscLinkedInstance.show():d._jscControlName?b.onControlPointerStart(a,d,d._jscControlName,"mouse"):b.picker&&b.picker.owner&&b.picker.owner.hide()},onDocumentTouchStart:function(a){a||(a=window.event);var d=a.target||a.srcElement;d._jscLinkedInstance?d._jscLinkedInstance.showOnClick&&d._jscLinkedInstance.show():d._jscControlName?b.onControlPointerStart(a,d,d._jscControlName,"touch"):b.picker&&b.picker.owner&&b.picker.owner.hide()},onWindowResize:function(a){b.redrawPosition()},onParentScroll:function(a){b.picker&&b.picker.owner&&b.picker.owner.hide()},_pointerMoveEvent:{mouse:"mousemove",touch:"touchmove"},_pointerEndEvent:{mouse:"mouseup",touch:"touchend"},_pointerOrigin:null,_capturedTarget:null,onControlPointerStart:function(f,r,t,o){var a=r._jscInstance;b.preventDefault(f),b.captureTarget(r);var s=function(d,c){b.attachGroupEvent("drag",d,b._pointerMoveEvent[o],b.onDocumentPointerMove(f,r,t,o,c)),b.attachGroupEvent("drag",d,b._pointerEndEvent[o],b.onDocumentPointerEnd(f,r,t,o))};s(document,[0,0]);if(window.parent&&window.frameElement){var i=window.frameElement.getBoundingClientRect(),l=[-i.left,-i.top];s(window.parent.window.document,l)}var n=b.getAbsPointerPos(f),q=b.getRelPointerPos(f);b._pointerOrigin={x:n.x-q.x,y:n.y-q.y};switch(t){case"pad":switch(b.getSliderComponent(a)){case"s":a.hsv[1]===0&&a.fromHSV(null,100,null);break;case"v":a.hsv[2]===0&&a.fromHSV(null,null,100)}b.setPad(a,f,0,0);break;case"sld":b.setSld(a,f,0)}b.dispatchFineChange(a)},onDocumentPointerMove:function(j,g,h,a,i){return function(c){var d=g._jscInstance;switch(h){case"pad":c||(c=window.event),b.setPad(d,c,i[0],i[1]),b.dispatchFineChange(d);break;case"sld":c||(c=window.event),b.setSld(d,c,i[1]),b.dispatchFineChange(d)}}},onDocumentPointerEnd:function(h,f,g,a){return function(d){var c=f._jscInstance;b.detachGroupEvents("drag"),b.releaseTarget(),b.dispatchChange(c)}},dispatchChange:function(a){a.valueElement&&b.isElementType(a.valueElement,"input")&&b.fireEvent(a.valueElement,"change")},dispatchFineChange:function(d){if(d.onFineChange){var a;typeof d.onFineChange=="string"?a=new Function(d.onFineChange):a=d.onFineChange,a.call(d)}},setPad:function(f,p,r,o){var a=b.getAbsPointerPos(p),q=r+a.x-b._pointerOrigin.x-f.padding-f.insetWidth,i=o+a.y-b._pointerOrigin.y-f.padding-f.insetWidth,m=q*(360/(f.width-1)),n=100-i*(100/(f.height-1));switch(b.getPadYComponent(f)){case"s":f.fromHSV(m,n,null,b.leaveSld);break;case"v":f.fromHSV(m,null,n,b.leaveSld)}},setSld:function(l,h,j){var a=b.getAbsPointerPos(h),k=j+a.y-b._pointerOrigin.y-l.padding-l.insetWidth,i=100-k*(100/(l.height-1));switch(b.getSliderComponent(l)){case"s":l.fromHSV(null,i,null,b.leavePad);break;case"v":l.fromHSV(null,null,i,b.leavePad)}},_vmlNS:"jsc_vml_",_vmlCSS:"jsc_vml_css_",_vmlReady:!1,initVML:function(){if(!b._vmlReady){var h=document;h.namespaces[b._vmlNS]||h.namespaces.add(b._vmlNS,"urn:schemas-microsoft-com:vml");if(!h.styleSheets[b._vmlCSS]){var f=["shape","shapetype","group","background","path","formulas","handles","fill","stroke","shadow","textbox","textpath","imagedata","line","polyline","curve","rect","roundrect","oval","arc","image"],g=h.createStyleSheet();g.owningElement.id=b._vmlCSS;for(var a=0;a<f.length;a+=1){g.addRule(b._vmlNS+"\\:"+f[a],"behavior:url(#default#VML);")}}b._vmlReady=!0}},createPalette:function(){var f={elm:null,draw:null};if(b.isCanvasSupported){var p=document.createElement("canvas"),r=p.getContext("2d"),o=function(g,c,e){p.width=g,p.height=c,r.clearRect(0,0,p.width,p.height);var h=r.createLinearGradient(0,0,p.width,0);h.addColorStop(0,"#F00"),h.addColorStop(1/6,"#FF0"),h.addColorStop(2/6,"#0F0"),h.addColorStop(0.5,"#0FF"),h.addColorStop(4/6,"#00F"),h.addColorStop(5/6,"#F0F"),h.addColorStop(1,"#F00"),r.fillStyle=h,r.fillRect(0,0,p.width,p.height);var d=r.createLinearGradient(0,0,0,p.height);switch(e.toLowerCase()){case"s":d.addColorStop(0,"rgba(255,255,255,0)"),d.addColorStop(1,"rgba(255,255,255,1)");break;case"v":d.addColorStop(0,"rgba(0,0,0,0)"),d.addColorStop(1,"rgba(0,0,0,1)")}r.fillStyle=d,r.fillRect(0,0,p.width,p.height)};f.elm=p,f.draw=o}else{b.initVML();var a=document.createElement("div");a.style.position="relative",a.style.overflow="hidden";var q=document.createElement(b._vmlNS+":fill");q.type="gradient",q.method="linear",q.angle="90",q.colors="16.67% #F0F, 33.33% #00F, 50% #0FF, 66.67% #0F0, 83.33% #FF0";var i=document.createElement(b._vmlNS+":rect");i.style.position="absolute",i.style.left="-1px",i.style.top="-1px",i.stroked=!1,i.appendChild(q),a.appendChild(i);var m=document.createElement(b._vmlNS+":fill");m.type="gradient",m.method="linear",m.angle="180",m.opacity="0";var n=document.createElement(b._vmlNS+":rect");n.style.position="absolute",n.style.left="-1px",n.style.top="-1px",n.stroked=!1,n.appendChild(m),a.appendChild(n);var o=function(d,e,c){a.style.width=d+"px",a.style.height=e+"px",i.style.width=n.style.width=d+1+"px",i.style.height=n.style.height=e+1+"px",q.color="#F00",q.color2="#F00";switch(c.toLowerCase()){case"s":m.color=m.color2="#FFF";break;case"v":m.color=m.color2="#000"}};f.elm=a,f.draw=o}return f},createSliderGradient:function(){var m={elm:null,draw:null};if(b.isCanvasSupported){var i=document.createElement("canvas"),k=i.getContext("2d"),n=function(c,e,f,d){i.width=c,i.height=e,k.clearRect(0,0,i.width,i.height);var g=k.createLinearGradient(0,0,0,i.height);g.addColorStop(0,f),g.addColorStop(1,d),k.fillStyle=g,k.fillRect(0,0,i.width,i.height)};m.elm=i,m.draw=n}else{b.initVML();var l=document.createElement("div");l.style.position="relative",l.style.overflow="hidden";var j=document.createElement(b._vmlNS+":fill");j.type="gradient",j.method="linear",j.angle="180";var a=document.createElement(b._vmlNS+":rect");a.style.position="absolute",a.style.left="-1px",a.style.top="-1px",a.stroked=!1,a.appendChild(j),l.appendChild(a);var n=function(d,f,c,e){l.style.width=d+"px",l.style.height=f+"px",a.style.width=d+1+"px",a.style.height=f+1+"px",j.color=c,j.color2=e};m.elm=l,m.draw=n}return m},leaveValue:1,leaveStyle:2,leavePad:4,leaveSld:8,BoxShadow:function(){var a=function(i,m,e,k,n,l){this.hShadow=i,this.vShadow=m,this.blur=e,this.spread=k,this.color=n,this.inset=!!l};return a.prototype.toString=function(){var d=[Math.round(this.hShadow)+"px",Math.round(this.vShadow)+"px",Math.round(this.blur)+"px",Math.round(this.spread)+"px",this.color];return this.inset&&d.push("inset"),d.join(" ")},a}(),jscolor:function(t,s){function n(k,x,e){k/=255,x/=255,e/=255;var q=Math.min(Math.min(k,x),e),z=Math.max(Math.max(k,x),e),w=z-q;if(w===0){return[null,0,100*z]}var j=k===q?3+(e-x)/w:x===q?5+(k-e)/w:1+(x-k)/w;return[60*(j===6?0:j),100*(w/z),100*z]}function r(j,w,x){var k=255*(x/100);if(j===null){return[k,k,k]}j/=60,w/=100;var z=Math.floor(j),q=z%2?j-z:1-(j-z),e=k*(1-w),A=k*(1-w*q);switch(z){case 6:case 0:return[k,A,e];case 1:return[A,k,e];case 2:return[e,k,A];case 3:return[e,A,k];case 4:return[A,e,k];case 5:return[k,e,A]}}function a(){b.unsetClass(g.targetElement,g.activeClass),b.picker.wrap.parentNode.removeChild(b.picker.wrap),delete b.picker.owner}function u(){function k(){var D=g.insetColor.split(/\s+/),C=D.length<2?D[0]:D[1]+" "+D[0]+" "+D[0]+" "+D[1];z.btn.style.borderColor=C}g._processParentElementsInDOM(),b.picker||(b.picker={owner:null,wrap:document.createElement("div"),box:document.createElement("div"),boxS:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),padPal:b.createPalette(),cross:document.createElement("div"),crossBY:document.createElement("div"),crossBX:document.createElement("div"),crossLY:document.createElement("div"),crossLX:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),sldGrad:b.createSliderGradient(),sldPtrS:document.createElement("div"),sldPtrIB:document.createElement("div"),sldPtrMB:document.createElement("div"),sldPtrOB:document.createElement("div"),btn:document.createElement("div"),btnT:document.createElement("span")},b.picker.pad.appendChild(b.picker.padPal.elm),b.picker.padB.appendChild(b.picker.pad),b.picker.cross.appendChild(b.picker.crossBY),b.picker.cross.appendChild(b.picker.crossBX),b.picker.cross.appendChild(b.picker.crossLY),b.picker.cross.appendChild(b.picker.crossLX),b.picker.padB.appendChild(b.picker.cross),b.picker.box.appendChild(b.picker.padB),b.picker.box.appendChild(b.picker.padM),b.picker.sld.appendChild(b.picker.sldGrad.elm),b.picker.sldB.appendChild(b.picker.sld),b.picker.sldB.appendChild(b.picker.sldPtrOB),b.picker.sldPtrOB.appendChild(b.picker.sldPtrMB),b.picker.sldPtrMB.appendChild(b.picker.sldPtrIB),b.picker.sldPtrIB.appendChild(b.picker.sldPtrS),b.picker.box.appendChild(b.picker.sldB),b.picker.box.appendChild(b.picker.sldM),b.picker.btn.appendChild(b.picker.btnT),b.picker.box.appendChild(b.picker.btn),b.picker.boxB.appendChild(b.picker.box),b.picker.wrap.appendChild(b.picker.boxS),b.picker.wrap.appendChild(b.picker.boxB));var z=b.picker,q=!!b.getSliderComponent(g),x=b.getPickerDims(g),j=2*g.pointerBorderWidth+g.pointerThickness+2*g.crossSize,A=b.getPadToSliderPadding(g),w=Math.min(g.borderRadius,Math.round(g.padding*Math.PI)),B="crosshair";z.wrap.style.clear="both",z.wrap.style.width=x[0]+2*g.borderWidth+"px",z.wrap.style.height=x[1]+2*g.borderWidth+"px",z.wrap.style.zIndex=g.zIndex,z.box.style.width=x[0]+"px",z.box.style.height=x[1]+"px",z.boxS.style.position="absolute",z.boxS.style.left="0",z.boxS.style.top="0",z.boxS.style.width="100%",z.boxS.style.height="100%",b.setBorderRadius(z.boxS,w+"px"),z.boxB.style.position="relative",z.boxB.style.border=g.borderWidth+"px solid",z.boxB.style.borderColor=g.borderColor,z.boxB.style.background=g.backgroundColor,b.setBorderRadius(z.boxB,w+"px"),z.padM.style.background=z.sldM.style.background="#FFF",b.setStyle(z.padM,"opacity","0"),b.setStyle(z.sldM,"opacity","0"),z.pad.style.position="relative",z.pad.style.width=g.width+"px",z.pad.style.height=g.height+"px",z.padPal.draw(g.width,g.height,b.getPadYComponent(g)),z.padB.style.position="absolute",z.padB.style.left=g.padding+"px",z.padB.style.top=g.padding+"px",z.padB.style.border=g.insetWidth+"px solid",z.padB.style.borderColor=g.insetColor,z.padM._jscInstance=g,z.padM._jscControlName="pad",z.padM.style.position="absolute",z.padM.style.left="0",z.padM.style.top="0",z.padM.style.width=g.padding+2*g.insetWidth+g.width+A/2+"px",z.padM.style.height=x[1]+"px",z.padM.style.cursor=B,z.cross.style.position="absolute",z.cross.style.left=z.cross.style.top="0",z.cross.style.width=z.cross.style.height=j+"px",z.crossBY.style.position=z.crossBX.style.position="absolute",z.crossBY.style.background=z.crossBX.style.background=g.pointerBorderColor,z.crossBY.style.width=z.crossBX.style.height=2*g.pointerBorderWidth+g.pointerThickness+"px",z.crossBY.style.height=z.crossBX.style.width=j+"px",z.crossBY.style.left=z.crossBX.style.top=Math.floor(j/2)-Math.floor(g.pointerThickness/2)-g.pointerBorderWidth+"px",z.crossBY.style.top=z.crossBX.style.left="0",z.crossLY.style.position=z.crossLX.style.position="absolute",z.crossLY.style.background=z.crossLX.style.background=g.pointerColor,z.crossLY.style.height=z.crossLX.style.width=j-2*g.pointerBorderWidth+"px",z.crossLY.style.width=z.crossLX.style.height=g.pointerThickness+"px",z.crossLY.style.left=z.crossLX.style.top=Math.floor(j/2)-Math.floor(g.pointerThickness/2)+"px",z.crossLY.style.top=z.crossLX.style.left=g.pointerBorderWidth+"px",z.sld.style.overflow="hidden",z.sld.style.width=g.sliderSize+"px",z.sld.style.height=g.height+"px",z.sldGrad.draw(g.sliderSize,g.height,"#000","#000"),z.sldB.style.display=q?"block":"none",z.sldB.style.position="absolute",z.sldB.style.right=g.padding+"px",z.sldB.style.top=g.padding+"px",z.sldB.style.border=g.insetWidth+"px solid",z.sldB.style.borderColor=g.insetColor,z.sldM._jscInstance=g,z.sldM._jscControlName="sld",z.sldM.style.display=q?"block":"none",z.sldM.style.position="absolute",z.sldM.style.right="0",z.sldM.style.top="0",z.sldM.style.width=g.sliderSize+A/2+g.padding+2*g.insetWidth+"px",z.sldM.style.height=x[1]+"px",z.sldM.style.cursor="default",z.sldPtrIB.style.border=z.sldPtrOB.style.border=g.pointerBorderWidth+"px solid "+g.pointerBorderColor,z.sldPtrOB.style.position="absolute",z.sldPtrOB.style.left=-(2*g.pointerBorderWidth+g.pointerThickness)+"px",z.sldPtrOB.style.top="0",z.sldPtrMB.style.border=g.pointerThickness+"px solid "+g.pointerColor,z.sldPtrS.style.width=g.sliderSize+"px",z.sldPtrS.style.height=p+"px",z.btn.style.display=g.closable?"block":"none",z.btn.style.position="absolute",z.btn.style.left=g.padding+"px",z.btn.style.bottom=g.padding+"px",z.btn.style.padding="0 15px",z.btn.style.height=g.buttonHeight+"px",z.btn.style.border=g.insetWidth+"px solid",k(),z.btn.style.color=g.buttonColor,z.btn.style.font="12px sans-serif",z.btn.style.textAlign="center";try{z.btn.style.cursor="pointer"}catch(e){z.btn.style.cursor="hand"}z.btn.onmousedown=function(){g.hide()},z.btnT.style.lineHeight=g.buttonHeight+"px",z.btnT.innerHTML="",z.btnT.appendChild(document.createTextNode(g.closeText)),c(),i(),b.picker.owner&&b.picker.owner!==g&&b.unsetClass(b.picker.owner.targetElement,g.activeClass),b.picker.owner=g,b.isElementType(v,"body")?b.redrawPosition():b._drawPosition(g,0,0,"relative",!1),z.wrap.parentNode!=v&&v.appendChild(z.wrap),b.setClass(g.targetElement,g.activeClass)}function c(){switch(b.getPadYComponent(g)){case"s":var x=1;break;case"v":var x=2}var k=Math.round(g.hsv[0]/360*(g.width-1)),w=Math.round((1-g.hsv[x]/100)*(g.height-1)),e=2*g.pointerBorderWidth+g.pointerThickness+2*g.crossSize,q=-Math.floor(e/2);b.picker.cross.style.left=k+q+"px",b.picker.cross.style.top=w+q+"px";switch(b.getSliderComponent(g)){case"s":var A=r(g.hsv[0],100,g.hsv[2]),z=r(g.hsv[0],0,g.hsv[2]),C="rgb("+Math.round(A[0])+","+Math.round(A[1])+","+Math.round(A[2])+")",j="rgb("+Math.round(z[0])+","+Math.round(z[1])+","+Math.round(z[2])+")";b.picker.sldGrad.draw(g.sliderSize,g.height,C,j);break;case"v":var B=r(g.hsv[0],g.hsv[1],100),C="rgb("+Math.round(B[0])+","+Math.round(B[1])+","+Math.round(B[2])+")",j="#000";b.picker.sldGrad.draw(g.sliderSize,g.height,C,j)}}function i(){var k=b.getSliderComponent(g);if(k){switch(k){case"s":var e=1;break;case"v":var e=2}var j=Math.round((1-g.hsv[e]/100)*(g.height-1));b.picker.sldPtrOB.style.top=j-(2*g.pointerBorderWidth+g.pointerThickness)-Math.floor(p/2)+"px"}}function o(){return b.picker&&b.picker.owner===g}function d(){g.importColor()}this.value=null,this.valueElement=t,this.styleElement=t,this.required=!0,this.refine=!0,this.hash=!1,this.uppercase=!0,this.onFineChange=null,this.activeClass="jscolor-active",this.minS=0,this.maxS=100,this.minV=0,this.maxV=100,this.hsv=[0,0,100],this.rgb=[255,255,255],this.width=181,this.height=101,this.showOnClick=!0,this.mode="HSV",this.position="bottom",this.smartPosition=!0,this.sliderSize=16,this.crossSize=8,this.closable=!1,this.closeText="Close",this.buttonColor="#000000",this.buttonHeight=18,this.padding=12,this.backgroundColor="#FFFFFF",this.borderWidth=1,this.borderColor="#BBBBBB",this.borderRadius=8,this.insetWidth=1,this.insetColor="#BBBBBB",this.shadow=!0,this.shadowBlur=15,this.shadowColor="rgba(0,0,0,0.2)",this.pointerColor="#4C4C4C",this.pointerBorderColor="#FFFFFF",this.pointerBorderWidth=1,this.pointerThickness=2,this.zIndex=1000,this.container=null;for(var h in s){s.hasOwnProperty(h)&&(this[h]=s[h])}this.hide=function(){o()&&a()},this.show=function(){u()},this.redraw=function(){o()&&u()},this.importColor=function(){this.valueElement?b.isElementType(this.valueElement,"input")?this.refine?!this.required&&/^\s*$/.test(this.valueElement.value)?(this.valueElement.value="",this.styleElement&&(this.styleElement.style.backgroundImage=this.styleElement._jscOrigStyle.backgroundImage,this.styleElement.style.backgroundColor=this.styleElement._jscOrigStyle.backgroundColor,this.styleElement.style.color=this.styleElement._jscOrigStyle.color),this.exportColor(b.leaveValue|b.leaveStyle)):this.fromString(this.valueElement.value)||this.exportColor():this.fromString(this.valueElement.value,b.leaveValue)||(this.styleElement&&(this.styleElement.style.backgroundImage=this.styleElement._jscOrigStyle.backgroundImage,this.styleElement.style.backgroundColor=this.styleElement._jscOrigStyle.backgroundColor,this.styleElement.style.color=this.styleElement._jscOrigStyle.color),this.exportColor(b.leaveValue|b.leaveStyle)):this.exportColor():this.exportColor()},this.exportColor=function(j){if(!(j&b.leaveValue)&&this.valueElement){var e=this.toString();this.uppercase&&(e=e.toUpperCase()),this.hash&&(e="#"+e),b.isElementType(this.valueElement,"input")?this.valueElement.value=e:this.valueElement.innerHTML=e}j&b.leaveStyle||this.styleElement&&(this.styleElement.style.backgroundImage="none",this.styleElement.style.backgroundColor="#"+this.toString(),this.styleElement.style.color=this.isLight()?"#000":"#FFF"),!(j&b.leavePad)&&o()&&c(),!(j&b.leaveSld)&&o()&&i()},this.fromHSV=function(j,q,e,k){if(j!==null){if(isNaN(j)){return !1}j=Math.max(0,Math.min(360,j))}if(q!==null){if(isNaN(q)){return !1}q=Math.max(0,Math.min(100,this.maxS,q),this.minS)}if(e!==null){if(isNaN(e)){return !1}e=Math.max(0,Math.min(100,this.maxV,e),this.minV)}this.rgb=r(j===null?this.hsv[0]:this.hsv[0]=j,q===null?this.hsv[1]:this.hsv[1]=q,e===null?this.hsv[2]:this.hsv[2]=e),this.exportColor(k)},this.fromRGB=function(k,w,e,q){if(k!==null){if(isNaN(k)){return !1}k=Math.max(0,Math.min(255,k))}if(w!==null){if(isNaN(w)){return !1}w=Math.max(0,Math.min(255,w))}if(e!==null){if(isNaN(e)){return !1}e=Math.max(0,Math.min(255,e))}var j=n(k===null?this.rgb[0]:k,w===null?this.rgb[1]:w,e===null?this.rgb[2]:e);j[0]!==null&&(this.hsv[0]=Math.max(0,Math.min(360,j[0]))),j[2]!==0&&(this.hsv[1]=j[1]===null?null:Math.max(0,this.minS,Math.min(100,this.maxS,j[1]))),this.hsv[2]=j[2]===null?null:Math.max(0,this.minV,Math.min(100,this.maxV,j[2]));var x=r(this.hsv[0],this.hsv[1],this.hsv[2]);this.rgb[0]=x[0],this.rgb[1]=x[1],this.rgb[2]=x[2],this.exportColor(q)},this.fromString=function(D,A){var q;if(q=D.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i)){return q[1].length===6?this.fromRGB(parseInt(q[1].substr(0,2),16),parseInt(q[1].substr(2,2),16),parseInt(q[1].substr(4,2),16),A):this.fromRGB(parseInt(q[1].charAt(0)+q[1].charAt(0),16),parseInt(q[1].charAt(1)+q[1].charAt(1),16),parseInt(q[1].charAt(2)+q[1].charAt(2),16),A),!0}if(q=D.match(/^\W*rgba?\(([^)]*)\)\W*$/i)){var z=q[1].split(","),j=/^\s*(\d*)(\.\d+)?\s*$/,w,x,C;if(z.length>=3&&(w=z[0].match(j))&&(x=z[1].match(j))&&(C=z[2].match(j))){var B=parseFloat((w[1]||"0")+(w[2]||"")),e=parseFloat((x[1]||"0")+(x[2]||"")),k=parseFloat((C[1]||"0")+(C[2]||""));return this.fromRGB(B,e,k,A),!0}}return !1},this.toString=function(){return(256|Math.round(this.rgb[0])).toString(16).substr(1)+(256|Math.round(this.rgb[1])).toString(16).substr(1)+(256|Math.round(this.rgb[2])).toString(16).substr(1)},this.toHEXString=function(){return"#"+this.toString().toUpperCase()},this.toRGBString=function(){return"rgb("+Math.round(this.rgb[0])+","+Math.round(this.rgb[1])+","+Math.round(this.rgb[2])+")"},this.isLight=function(){return 0.213*this.rgb[0]+0.715*this.rgb[1]+0.072*this.rgb[2]>127.5},this._processParentElementsInDOM=function(){if(this._linkedElementsProcessed){return}this._linkedElementsProcessed=!0;var j=this.targetElement;do{var e=b.getStyle(j);e&&e.position.toLowerCase()==="fixed"&&(this.fixed=!0),j!==this.targetElement&&(j._jscEventsAttached||(b.attachEvent(j,"scroll",b.onParentScroll),j._jscEventsAttached=!0))}while((j=j.parentNode)&&!b.isElementType(j,"body"))};if(typeof t=="string"){var m=t,f=document.getElementById(m);f?this.targetElement=f:b.warn("Could not find target element with ID '"+m+"'")}else{t?this.targetElement=t:b.warn("Invalid target element: '"+t+"'")}if(this.targetElement._jscLinkedInstance){b.warn("Cannot link jscolor twice to the same element. Skipping.");return}this.targetElement._jscLinkedInstance=this,this.valueElement=b.fetchElement(this.valueElement),this.styleElement=b.fetchElement(this.styleElement);var g=this,v=this.container?b.fetchElement(this.container):document.getElementsByTagName("body")[0],p=3;if(b.isElementType(this.targetElement,"button")){if(this.targetElement.onclick){var l=this.targetElement.onclick;this.targetElement.onclick=function(e){return l.call(this,e),!1}}else{this.targetElement.onclick=function(){return !1}}}if(this.valueElement&&b.isElementType(this.valueElement,"input")){var y=function(){g.fromString(g.valueElement.value,b.leaveValue),b.dispatchFineChange(g)};b.attachEvent(this.valueElement,"keyup",y),b.attachEvent(this.valueElement,"input",y),b.attachEvent(this.valueElement,"blur",d),this.valueElement.setAttribute("autocomplete","off")}this.styleElement&&(this.styleElement._jscOrigStyle={backgroundImage:this.styleElement.style.backgroundImage,backgroundColor:this.styleElement.style.backgroundColor,color:this.styleElement.style.color}),this.value?this.fromString(this.value)||this.exportColor():this.importColor()}};return b.jscolor.lookupClass="jscolor",b.jscolor.installByClassName=function(a){var e=document.getElementsByTagName("input"),f=document.getElementsByTagName("button");b.tryInstallOnElements(e,a),b.tryInstallOnElements(f,a)},b.register(),b.jscolor}());