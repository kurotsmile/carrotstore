var jvm={inherits:function(c,b){function a(){}a.prototype=b.prototype;c.prototype=new a();c.prototype.constructor=c;c.parentClass=b},mixin:function(b,a){var c;for(c in a.prototype){if(a.prototype.hasOwnProperty(c)){b.prototype[c]=a.prototype[c]}}},min:function(a){var c=Number.MAX_VALUE,b;if(a instanceof Array){for(b=0;b<a.length;b++){if(a[b]<c){c=a[b]}}}else{for(b in a){if(a[b]<c){c=a[b]}}}return c},max:function(b){var a=Number.MIN_VALUE,c;if(b instanceof Array){for(c=0;c<b.length;c++){if(b[c]>a){a=b[c]}}}else{for(c in b){if(b[c]>a){a=b[c]}}}return a},keys:function(a){var c=[],b;for(b in a){c.push(b)}return c},values:function(b){var a=[],d,c;for(c=0;c<arguments.length;c++){b=arguments[c];for(d in b){a.push(b[d])}}return a},whenImageLoaded:function(c){var b=new jvm.$.Deferred(),a=jvm.$("<img/>");a.error(function(){b.reject()}).load(function(){b.resolve(a)});a.attr("src",c);return b},isImageUrl:function(a){return/\.\w{3,4}$/.test(a)}};jvm.$=jQuery;if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c,d){var b;if(this==null){throw new TypeError('"this" is null or not defined')}var e=Object(this);var a=e.length>>>0;if(a===0){return -1}var f=+d||0;if(Math.abs(f)===Infinity){f=0}if(f>=a){return -1}b=Math.max(f>=0?f:a-Math.abs(f),0);while(b<a){if(b in e&&e[b]===c){return b}b++}return -1}};