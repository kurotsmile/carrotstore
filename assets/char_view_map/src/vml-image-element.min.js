jvm.VMLImageElement=function(a,b){jvm.VMLImageElement.parentClass.call(this,"image",a,b)};jvm.inherits(jvm.VMLImageElement,jvm.VMLShapeElement);jvm.VMLImageElement.prototype.applyAttr=function(a,c){var d,e,b=this;if(a=="image"){jvm.whenImageLoaded(c).then(function(f){b.node.setAttribute("src",c);b.width=f[0].width;b.height=f[0].height;b.applyAttr("width",b.width);b.applyAttr("height",b.height);jvm.VMLImageElement.images[c]=jvm.VMLImageElement.imageCounter++;b.applyAttr("x",b.cx-b.width/2);b.applyAttr("y",b.cy-b.height/2);jvm.$(b.node).trigger("imageloaded",[f])})}else{if(a=="cx"){this.cx=c;if(this.width){this.applyAttr("x",c-this.width/2)}}else{if(a=="cy"){this.cy=c;if(this.height){this.applyAttr("y",c-this.height/2)}}else{if(a=="width"||a=="height"){this.node.style[a]=c+"px"}else{if(a=="x"||a=="y"){this.node.style[a=="x"?"left":"top"]=c+"px"}else{jvm.VMLImageElement.parentClass.prototype.applyAttr.apply(this,arguments)}}}}}};jvm.VMLImageElement.imageCounter=1;jvm.VMLImageElement.images={};