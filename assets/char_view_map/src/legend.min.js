jvm.Legend=function(a){this.params=a||{};this.map=this.params.map;this.series=this.params.series;this.body=jvm.$("<div/>");this.body.addClass("jvectormap-legend");if(this.params.cssClass){this.body.addClass(this.params.cssClass)}if(a.vertical){this.map.legendCntVertical.append(this.body)}else{this.map.legendCntHorizontal.append(this.body)}this.render()};jvm.Legend.prototype.render=function(){var f=this.series.scale.getTicks(),d,a=jvm.$("<div/>").addClass("jvectormap-legend-inner"),c,e,b;this.body.html("");if(this.params.title){this.body.append(jvm.$("<div/>").addClass("jvectormap-legend-title").html(this.params.title))}this.body.append(a);for(d=0;d<f.length;d++){c=jvm.$("<div/>").addClass("jvectormap-legend-tick");e=jvm.$("<div/>").addClass("jvectormap-legend-tick-sample");switch(this.series.params.attribute){case"fill":if(jvm.isImageUrl(f[d].value)){e.css("background","url("+f[d].value+")")}else{e.css("background",f[d].value)}break;case"stroke":e.css("background",f[d].value);break;case"image":e.css("background","url("+f[d].value+") no-repeat center center");break;case"r":jvm.$("<div/>").css({"border-radius":f[d].value,border:this.map.params.markerStyle.initial["stroke-width"]+"px "+this.map.params.markerStyle.initial.stroke+" solid",width:f[d].value*2+"px",height:f[d].value*2+"px",background:this.map.params.markerStyle.initial.fill}).appendTo(e);break}c.append(e);b=f[d].label;if(this.params.labelRender){b=this.params.labelRender(b)}c.append(jvm.$("<div>"+b+" </div>").addClass("jvectormap-legend-tick-text"));a.append(c)}a.append(jvm.$("<div/>").css("clear","both"))};